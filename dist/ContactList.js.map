{"version":3,"sources":["../src/ContactList.js"],"names":["fs","require","util","writeFile","promisify","readFile","Contact","obj","name","age","phone","console","log","_name","length","_phone","number","typeOf","ContactList","filename","list","contact","push","JSON","stringify","readFilePromise","then","parse","fileString","map","contactObj","Promise","resolve","exports"],"mappings":";;;;;;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEA,IAAME,YAAYD,KAAKE,SAAL,CAAeJ,GAAGG,SAAlB,CAAlB;AACA,IAAME,WAAWH,KAAKE,SAAL,CAAeJ,GAAGK,QAAlB,CAAjB;;IAEMC,O;AACL,kBAAYC,GAAZ,EAAiB;AAAA;;AAChB,MAAG,CAACA,GAAJ,EACC,MAAM,wCAAN;;AAED,OAAKC,IAAL,GAAYD,IAAIC,IAAhB;AACA,OAAKC,GAAL,GAAWF,IAAIE,GAAf;AACA,OAAKC,KAAL,GAAaH,IAAIG,KAAjB;AACA;;;;yBA+BO;AACN,OAAI,KAAKA,KAAT,EACCC,QAAQC,GAAR,CAAY,aAAa,KAAKJ,IAAlB,GAAyB,MAAzB,GAAkC,KAAKE,KAAnD,EADD,KAGCC,QAAQC,GAAR,CAAY,KAAKJ,IAAL,GAAY,6BAAxB;AAED;;;6BACU;AACVG,WAAQC,GAAR,CAAY,aAAa,KAAKJ,IAAlB,GAAyB,WAAzB,IAAwC,KAAKC,GAAL,GAAS,CAAjD,IAAsD,cAAlE;AACA;;;;AAvCD;;AAEA;AACA;;sBAES;AACT,UAAO,KAAKI,KAAZ;AACA,G;oBACQL,I,EAAK;AACb,OAAG,CAACA,IAAJ,EACC,MAAM,wCAAN,CADD,KAEK,IAAIA,KAAKM,MAAL,GAAc,CAAlB,EACL,MAAM,0CAAN,CADK,KAGJ,KAAKD,KAAL,GAAaL,IAAb;AACD;;;sBAEW;AACV,UAAO,KAAKO,MAAZ;AACA,G;oBAESC,M,EAAO;AACjB,OAAIA,OAAOF,MAAP,GAAgB,CAApB,EACA,MAAM,gCAAN,CADA,KAEK,IAAG,EAAEG,OAAOD,MAAP,MAAmB,QAAnB,IAA+BC,OAAOD,MAAP,MAAmB,QAApD,CAAH,EACL,MAAM,6CAAN,CADK,KAGJ,KAAKD,MAAL,GAAcC,MAAd;AACA;;;;;;AAYF;;IAEKE,W;AACL,sBAAYC,QAAZ,EAAqB;AAAA;;AACpB,OAAKC,IAAL,GAAY,EAAZ;AACA,OAAKD,QAAL,GAAgBA,QAAhB;AACA;;;;6BAEUE,O,EAAQ;AAClB,OAAGA,mBAAmBf,OAAtB,EAA8B;AAC7B,SAAKc,IAAL,CAAUE,IAAV,CAAeD,OAAf;AACA;AACD;;;yBAEK;AACL,UAAOlB,UAAU,KAAKgB,QAAf,EAAyBI,KAAKC,SAAL,CAAe,KAAKJ,IAApB,CAAzB,EAAoD,MAApD,CAAP;AACA;;;yBAEK;AAAA;;AACL,OAAMK,kBAAkBpB,SAAS,KAAKc,QAAd,EAAwB,MAAxB,CAAxB;;AAEA,UAAOM,gBACNC,IADM,CACD,sBAAc;AACnB,UAAKN,IAAL,GAAYG,KAAKI,KAAL,CAAWC,UAAX,EACXC,GADW,CACP;AAAA,YAAc,IAAIvB,OAAJ,CAAYwB,UAAZ,CAAd;AAAA,KADO,CAAZ;;AAGA,WAAOC,QAAQC,OAAR,CAAgB,IAAhB,CAAP;AACA,IANM,CAAP;AAOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;AACD;;AAEDC,QAAQ3B,OAAR,GAAkBA,OAAlB;AACA2B,QAAQf,WAAR,GAAsBA,WAAtB","file":"ContactList.js","sourcesContent":["const fs = require(\"fs\");\nconst util = require(\"util\");\n\nconst writeFile = util.promisify(fs.writeFile);\nconst readFile = util.promisify(fs.readFile);\n\nclass Contact {\n\tconstructor(obj) {\n\t\tif(!obj)\n\t\t\tthrow \"Need object to initialize values from.\";\n\n\t\tthis.name = obj.name;\n\t\tthis.age = obj.age;\n\t\tthis.phone = obj.phone;\n\t};\n  // addPhone(number) {\n\n  //     return this.phone = number;\n  // }\n\n\tget name(){\n\t\treturn this._name;\n\t}\n\tset name(name){\n\t\tif(!name)\n\t\t\tthrow \"Name is needed to create a new person.\";\n\t\telse if (name.length < 4)\n\t\tthrow 'name length should be at least 4 digits.';\n\t\telse\n\t\t\tthis._name = name;\n\t}\n\n  get phone(){\n  \treturn this._phone;\n  }\n\n  set phone(number){\n\t\tif (number.length < 8)\n\t\tthrow 'please enter at least 8 digits';\n\t\telse if(!(typeOf(number) === 'number' || typeOf(number) === 'string'))\n\t\tthrow 'phone number can only be a number or string'\n\t\telse\n  \tthis._phone = number;\n  }\n\n  call() {\n  \tif (this.phone)\n  \t\tconsole.log(\"Calling \" + this.name + \" at \" + this.phone);\n  \telse\n  \t\tconsole.log(this.name + \" has no phone number saved.\");\n\n  }\n  birthday() {\n  \tconsole.log(\"Wishing \" + this.name + \" a happy \" + (this.age+1) + \"th birthday!\");\n  }\n};\n\nclass ContactList {\n\tconstructor(filename){\n\t\tthis.list = [];\n\t\tthis.filename = filename;\n\t}\n\n\taddContact(contact){\n\t\tif(contact instanceof Contact){\n\t\t\tthis.list.push(contact);\n\t\t}\n\t}\n\n\tsave(){\n\t\treturn writeFile(this.filename, JSON.stringify(this.list), \"utf8\");\n\t}\n\n\tload(){\n\t\tconst readFilePromise = readFile(this.filename, \"utf8\");\n\n\t\treturn readFilePromise\n\t\t.then(fileString => {\n\t\t\tthis.list = JSON.parse(fileString)\n\t\t\t.map(contactObj => new Contact(contactObj));\n\n\t\t\treturn Promise.resolve(null);\n\t\t});\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \treadFilePromise\n\t\t// \t.then(fileString => {\n\t\t// \t\tthis.list = JSON.parse(fileString)\n\t\t// \t\t.map(contactObj => new Contact(contactObj));\n\n\t\t// \t\tresolve(null);\n\t\t// \t});\n\t\t// });\n\t}\n};\n\nexports.Contact = Contact;\nexports.ContactList = ContactList;\n"]}